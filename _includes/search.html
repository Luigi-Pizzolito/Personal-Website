<div class="search-elem">
  <!-- Html Elements for Search -->
  <div id="search-container">
    <input type="text" id="search-input" placeholder="Search..." onkeyup="updateSearch()" onkeydown="updateSearch()" onchange="updateSearch()"
      ondblclick="this.value=''; updateSearch(); document.getElementById('search-input').dispatchEvent(new Event('input'));">
    <label for="search-input" style="display: none;">Search posts...</label>
    <small style="display: none;" id="backsearch"
      onclick="document.getElementById('search-input').value=''; updateSearch(); document.getElementById('search-input').dispatchEvent(new Event('input'));">Back</small>
    <ul id="results-container"></ul>
  </div>

  <!-- Script pointing to search-script.js -->
  <script src="/assets/js/search-script.js" type="text/javascript"></script>

  <!-- Configuration -->
  <script>
    function updateSearch() {
      // console.log(document.getElementById("search-input").value)
      if (document.getElementById("search-input").value == '') {
        document.getElementsByClassName('hide-search')[0].style.display = '';
        document.getElementById("backsearch").style.display = 'none';
      } else {
        document.getElementsByClassName('hide-search')[0].style.display = 'none';
        document.getElementById("backsearch").style.display = '';
        // if (window.innerWidth < 755 && (document.querySelector('#results-container').lastElementChild == null) ? false : document.querySelector('#results-container').lastElementChild.localName !== "hr") {
        //   document.querySelector('#results-container').appendChild(document.createElement("hr"))
        // }
      }

      

    }

    function loadTag(tag) {
      // console.log(tag);
      document.getElementById("search-input").value = tag.name;
      updateSearch();
      document.getElementById("search-input").dispatchEvent(new Event("input"));
    }

    function startSearchE() {
        var searchE = SimpleJekyllSearch({
        searchInput: document.getElementById('search-input'),
        resultsContainer: document.getElementById('results-container'),
        json: '/projects/search.json',
        searchResultTemplate: '<li><a href="{url}">{title}</a><p class="item-desc" onclick="window.location.pathname=\'{url}\';">{description}<br /><small>{category} - {date}</small></li>',
        noResultsText: '<p class="nf">No results found.</p>',
        limit: (window.innerWidth < 755) ? 50 : 12
      })
    }
    startSearchE();
  </script>
</div>